(()=>{var i="https://webetu.iutnc.univ-lorraine.fr",p="https://webetu.iutnc.univ-lorraine.fr/www/canals5/phox/api/photos",u="https://webetu.iutnc.univ-lorraine.fr/www/canals5/phox/api/photos/?page=1&size=10",l="https://webetu.iutnc.univ-lorraine.fr/www/canals5/phox/api/photos/?page=11&size=10";function s(t){return new Promise((n,e)=>{fetch(t).then(o=>{if(!o.ok)throw new Error("Erreur lors de la requ\xEAte");return o.json()}).then(o=>{n(o)}).catch(o=>{e(o)})})}async function m(){let t={photos:[],currentPage:1,pageSize:10,totalPages:0,totalPhotos:0,next:null,prev:null},n=await s(p);return t.totalPhotos=n.count,t.totalPages=Math.ceil(n.count/n.size),n.links&&n.links.next&&n.links.next.href&&(t.next=n.links.next.href),n.links&&n.links.prev&&n.links.prev.href&&(t.prev=n.links.prev.href),n.photos.forEach(e=>{t.photos.push(e.photo)}),t}async function v(t){if(t.currentPage<t.totalPages){t.currentPage++;let n=t.next;console.log(n);let e=await s(i+n);t.photos=e.photos.map(r=>r.photo),t.next=e.links&&e.links.next&&e.links.next.href,t.prev=e.links&&e.links.prev&&e.links.prev.href;let o=document.getElementsByClassName("picture");for(let r=0;r<o.length;r++)o[r].remove()}return t}async function w(t){if(t.currentPage>1){t.currentPage--;let n=t.prev,e=await s(i+n);t.photos=e.photos.map(r=>r.photo),t.next=e.links&&e.links.next&&e.links.next.href,t.prev=e.links&&e.links.prev&&e.links.prev.href;let o=document.getElementsByClassName("picture");for(let r=0;r<o.length;r++)o[r].remove()}return t}async function P(t){let n=document.getElementsByClassName("picture");for(let o=0;o<n.length;o++)n[o].remove();let e=await s(u);return t.photos=e.photos.map(o=>o.photo),t.next=e.links&&e.links.next&&e.links.next.href,t.prev=e.links&&e.links.prev&&e.links.prev.href,t}async function g(t){let n=document.getElementsByClassName("picture");for(let o=0;o<n.length;o++)n[o].remove();t.currentPage=11;let e=await s(l);return t.photos=e.photos.map(o=>o.photo),t.next=e.links&&e.links.next&&e.links.next.href,t.prev=e.links&&e.links.prev&&e.links.prev.href,t}})();
